<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Anniversary — Game Card</title>
<style>
body { font-family: 'Segoe UI', sans-serif; background: #fdf6f0; margin:0; padding:0; text-align:center; }
h1 { margin-top: 20px; }
.sub { font-size: 1.2rem; margin-bottom: 30px; }
button { padding: 10px 20px; margin: 10px; cursor:pointer; }
#game-container { margin: 20px auto; max-width: 800px; }
.memory-card { border-radius: 8px; }
.maze-cell { width:30px; height:30px; display:inline-block; border:1px solid #ccc; }
.correct { background: #4caf50; }
.wrong { background: #f44336; }
#lyrics { margin-top: 20px; font-size:1rem; color:#444; min-height:60px; }
.confetti { position: fixed; width: 100%; height: 100%; top:0; left:0; pointer-events:none; }
</style>
</head>
<body>
<h1>Happy Anniversary 💖</h1>
<div class="sub">John & Eden</div>
<div id="game-container"></div>
<div id="lyrics"></div>
<audio id="song1" src="call123.mp3" controls></audio>
<audio id="song2" src="345.mp3" controls></audio>
<canvas id="confetti-canvas" class="confetti"></canvas>
<script>
const gameContainer = document.getElementById('game-container');
const lyricsDiv = document.getElementById('lyrics');
let currentGame = 1;
let scores = [];

function clearGameContainer() { gameContainer.innerHTML = ''; lyricsDiv.innerHTML=''; }
function nextGame() { currentGame++; runGame(); }

// Utility shuffle
function shuffleArray(array){for(let i=array.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[array[i],array[j]]=[array[j],array[i]];}}

// Start timer for scoring
let startTime;
function startTimer(){startTime=Date.now();}
function endTimer(){return (Date.now()-startTime)/1000;}

function runGame(){
switch(currentGame){
  case 1: startTimer(); game1(); break;
  case 2: startTimer(); game2(); break;
  case 3: startTimer(); game3(); break;
  case 4: startTimer(); startMemoryGame(); break;
  case 5: startTimer(); game5(); break;
  case 6: startTimer(); game6(); break;
  case 7: startTimer(); game7(); break;
  case 8: startTimer(); game8(); break;
  case 9: startTimer(); game9(); break;
  case 10: startTimer(); game10(); break;
  case 11: startTimer(); game11(); break;
  case 12: startTimer(); game12(); break;
  default: gameComplete();
}}

// GAME 1
function game1(){
  clearGameContainer();
  const title = document.createElement('h2'); title.innerText='Game 1: Solve the number'; gameContainer.appendChild(title);
  const question = document.createElement('p'); question.innerText='12 × 3 – 6 = ?'; gameContainer.appendChild(question);
  const input=document.createElement('input'); input.type='number'; gameContainer.appendChild(input);
  const btn=document.createElement('button'); btn.innerText='Submit'; gameContainer.appendChild(btn);
  btn.onclick=()=>{
    if(parseInt(input.value)===30){
      scores.push({game:1,score:Math.max(10,20-endTimer())});
      alert('Correct! Love wins.'); nextGame();
    }else{alert('Try again.');}
  };
}

// GAME 2 Sliding puzzle placeholder
function game2(){
 clearGameContainer();
 const title = document.createElement('h2'); title.innerText='Game 2: Arrange the photo'; gameContainer.appendChild(title);
 const img = document.createElement('img'); img.src='wedding1.jpg'; img.width=300; gameContainer.appendChild(img);
 const btn = document.createElement('button'); btn.innerText='Next'; btn.onclick=()=>{scores.push({game:2,score:15}); nextGame();}; gameContainer.appendChild(btn);
}

// GAME 3 Word Scramble
function game3(){
 clearGameContainer();
 const title = document.createElement('h2'); title.innerText='Game 3: Unscramble'; gameContainer.appendChild(title);
 const phrases=["love is patient","love is kind and love delights in the truth"];
 let index=0;
 function nextPhrase(){
   if(index>=phrases.length){ scores.push({game:3,score:20}); nextGame(); return;}
   const p=phrases[index];
   const words=p.split(' ');
   let scrambled = words.slice().sort(()=>Math.random()-0.5).join(' ');
   gameContainer.innerHTML='<p>'+scrambled+'</p>';
   const input = document.createElement('input'); input.type='text'; gameContainer.appendChild(input);
   const btn = document.createElement('button'); btn.innerText='Submit'; gameContainer.appendChild(btn);
   btn.onclick=()=>{if(input.value.toLowerCase()===p.toLowerCase()){index++; nextPhrase();}else{alert('Try again.');}};
 }
 nextPhrase();
}

// GAME 4 Memory 8 cards
function startMemoryGame(){
  clearGameContainer();
  const title = document.createElement('h2'); title.innerText='Game 4: Memory Match (8 cards)'; gameContainer.appendChild(title);
  const cardValues = ["🍎","🍎","🍌","🍌","🍇","🍇","🍒","🍒"];
  shuffleArray(cardValues);
  const grid = document.createElement('div'); grid.style.display='grid'; grid.style.gridTemplateColumns='repeat(4,80px)'; grid.style.gap='10px'; gameContainer.appendChild(grid);
  let firstCard=null,lock=false,matches=0;
  cardValues.forEach(val=>{
    const card=document.createElement('div'); card.className='memory-card'; card.dataset.value=val;
    card.style.width='80px'; card.style.height='80px'; card.style.display='flex'; card.style.alignItems='center'; card.style.justifyContent='center'; card.style.fontSize='2rem'; card.style.background='#444'; card.style.color='transparent'; card.style.cursor='pointer'; card.innerText=val;
    card.onclick=()=>{
      if(lock||card.classList.contains('matched')) return;
      card.style.color='#fff';
      if(!firstCard){firstCard=card;}else{
        if(firstCard.dataset.value===card.dataset.value && firstCard!==card){
          firstCard.classList.add('matched'); card.classList.add('matched'); matches++; firstCard=null;
          if(matches===4){scores.push({game:4,score:25}); setTimeout(()=>{alert('Great! All pairs matched.'); nextGame();},500);}
        }else{lock=true; setTimeout(()=>{firstCard.style.color='transparent'; card.style.color='transparent'; firstCard=null; lock=false;},1000);}
      }
    };
    grid.appendChild(card);
  });
}

// GAME 5 Trivia -> triggers song1
function game5(){
 clearGameContainer();
 const title = document.createElement('h2'); title.innerText='Game 5: Trivia about us'; gameContainer.appendChild(title);
 const q1 = document.createElement('p'); q1.innerText='Where did we first meet?'; gameContainer.appendChild(q1);
 ['School','Church','Nandos'].forEach((opt,i)=>{
   const btn=document.createElement('button'); btn.innerText=opt; gameContainer.appendChild(btn);
   btn.onclick=()=>{
     if(opt==='Nandos'){alert('Correct!'); scores.push({game:5,score:30}); playSong1();}else{alert('Try again.');}
   };
 });
 const q2 = document.createElement('p'); q2.innerText='What’s our song?'; gameContainer.appendChild(q2);
 ['Amazing Grace','Perfect','The Marriage Prayer'].forEach(opt=>{
   const btn=document.createElement('button'); btn.innerText=opt; gameContainer.appendChild(btn);
   btn.onclick=()=>{
     if(opt==='The Marriage Prayer'){alert('Correct!'); scores.push({game:5,score:30}); playSong1();}else{alert('Try again.');}
   };
 });
}
function playSong1(){
 const song=document.getElementById('song1'); song.play();
 const lyrics1=[
{"text":"[Intro]Another year has passed us by\nBeneath this endless, starry sky\nAnd holding you, I realize\nwe are growing together until we die"},
{"text":"[Verse 1]I still recall the day we met\nA memory I won't forget\nThe perfect scene, in city center\nYou are the best thing I've found yet"},
{"text":"[Chorus]Oh, Cuppy, you're my smiling star\nNo matter if you're near or far\nYour prays heal my pains & scars\nYou're perfect just not the way you are(ooh-ooh-ooh)"}
];
 let idx=0;
 song.ontimeupdate=()=>{
   if(idx<lyrics1.length) lyricsDiv.innerText=lyrics1[idx].text;
 };
 song.onended=()=>{lyricsDiv.innerText=''; nextGame();};
}

// Placeholder for games 6-12
function game6(){alert('Game 6 placeholder: Maze 12x12'); scores.push({game:6,score:20}); nextGame();}
function game7(){alert('Game 7 placeholder: 7 differences'); scores.push({game:7,score:25}); nextGame();}
function game8(){alert('Game 8 placeholder: 5-8 emoji puzzles'); scores.push({game:8,score:30}); nextGame();}
function game9(){alert('Game 9 placeholder: Sequence builder'); scores.push({game:9,score:20}); nextGame();}
function game10(){alert('Game 10 placeholder: 5 T/F questions'); scores.push({game:10,score:20}); nextGame();}
function game11(){alert('Game 11 placeholder: Picture reveal'); scores.push({game:11,score:25}); nextGame();}
function game12(){
  alert('Game 12 placeholder: Favorite dishes quiz'); scores.push({game:12,score:30});
  playSong2();
}
function playSong2(){
 const song=document.getElementById('song2'); song.play();
 const lyrics2=[
{"text":"[Verse 1]Eight years have passed, it feels surreal,\nWe’re still a team, that’s quite the deal.\nIt’s like we blinked, and here we are,\nStill bickering like rockstars."},
{"text":"[Chorus]Oh Cuppy, you drive me mad,\nBest worst teammate I ever had.\nYou steal my fries, you hog the bed,\nBut I still love the life we’ve led."}
];
 let idx=0;
 song.ontimeupdate=()=>{
   if(idx<lyrics2.length) lyricsDiv.innerText=lyrics2[idx].text;
 };
 song.onended=()=>{lyricsDiv.innerText=''; confetti(); gameComplete();};
}

// Confetti
function confetti(){alert('🎉 Confetti! 🎉');}
function gameComplete(){
 clearGameContainer();
 const title=document.createElement('h2'); title.innerText='Congratulations! You completed all games.'; gameContainer.appendChild(title);
 const scoreDiv=document.createElement('div'); scoreDiv.innerHTML='<h3>Your Scores:</h3>'+scores.map(s=>'Game '+s.game+': '+s.score).join('<br>'); gameContainer.appendChild(scoreDiv);
}

runGame();
</script>
</body>
</html>
